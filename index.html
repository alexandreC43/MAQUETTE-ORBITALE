<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maquette Orbitale 3D</title>
    <style>
        /* CSS pour styliser la maquette, les images et les boutons */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f4f4;
        }

        #maquette-orbitale {
            position: relative;
            width: 80%;
            height: 0;
            padding-bottom: 75%; /* Ratio pour une vue 4:3 */
            cursor: grab; /* Curseur pour indiquer que l'utilisateur peut faire glisser */
            margin-right: 150px; /* Espace pour les boutons */
            background-color: #fff; /* Fond blanc pour le conteneur de maquette */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Ombre légère */
        }

        .maquette-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 80%;
            object-fit: cover;
            opacity: 0;
        }

        .maquette-image.active {
            opacity: 1;
        }

        .view-buttons {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .view-buttons button {
            padding: 12px 24px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .view-buttons button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }
    </style>
</head>
<body>

<div id="maquette-orbitale">
    <!-- Div pour les rendus 3D du bâtiment -->
    <div id="building-mode">
        <img src="Images/Scene 1.jpg" alt="Vue 1" class="maquette-image active">
        <img src="Images/Scene 2.jpg" alt="Vue 2" class="maquette-image">
        <img src="Images/Scene 3.jpg" alt="Vue 3" class="maquette-image">
        <img src="Images/Scene 4.jpg" alt="Vue 4" class="maquette-image">
        <img src="Images/Scene 5.jpg" alt="Vue 5" class="maquette-image">
        <img src="Images/Scene 6.jpg" alt="Vue 6" class="maquette-image">
        <img src="Images/Scene 7.jpg" alt="Vue 7" class="maquette-image">
    </div>

    <!-- Div pour les rendus 3D du RDC -->
    <div id="rdc-mode" style="display: none;">
        <img src="Images/RDC1.jpg" alt="Vue RDC 1" class="maquette-image">
        <img src="Images/RDC2.jpg" alt="Vue RDC 2" class="maquette-image">
        <img src="Images/RDC3.jpg" alt="Vue RDC 3" class="maquette-image">
        <img src="Images/RDC4.jpg" alt="Vue RDC 4" class="maquette-image">
        <img src="Images/RDC5.jpg" alt="Vue RDC 5" class="maquette-image">
        <img src="Images/RDC6.jpg" alt="Vue RDC 6" class="maquette-image">
        <img src="Images/RDC7.jpg" alt="Vue RDC 7" class="maquette-image">
    </div>

    <!-- Div pour les rendus 3D du R+1 -->
    <div id="rplus1-mode" style="display: none;">
        <img src="Images/Rplus1_View1.jpg" alt="Vue R+1 1" class="maquette-image">
        <img src="Images/Rplus1_View2.jpg" alt="Vue R+1 2" class="maquette-image">
        <img src="Images/Rplus1_View3.jpg" alt="Vue R+1 3" class="maquette-image">
        <img src="Images/Rplus1_View4.jpg" alt="Vue R+1 4" class="maquette-image">
        <img src="Images/Rplus1_View5.jpg" alt="Vue R+1 5" class="maquette-image">
        <img src="Images/Rplus1_View6.jpg" alt="Vue R+1 6" class="maquette-image">
        <img src="Images/Rplus1_View7.jpg" alt="Vue R+1 7" class="maquette-image">
    </div>
</div>

<!-- Boutons pour changer de vue -->
<div class="view-buttons">
    <button id="btnBatiment">Bâtiment</button>
    <button id="btnRDC">RDC</button>
    <button id="btnRplus1">R+1</button>
</div>

<script>
    // JavaScript pour gérer la rotation de la maquette et les vues en coupe
    let currentImageIndex = 0;
    let isDragging = false;
    let startX = 0;
    let currentMode = 'building'; // Mode actuel (building, rdc, rplus1)

    function showImages(mode) {
        const modes = ['building', 'rdc', 'rplus1'];
        modes.forEach(m => {
            document.getElementById(`${m}-mode`).style.display = m === mode ? 'block' : 'none';
        });

        // Réinitialiser la visibilité des images
        const images = document.querySelectorAll(`#${mode}-mode .maquette-image`);
        images.forEach(img => img.classList.remove('active'));
        if (images.length > 0) {
            images[0].classList.add('active');
            currentImageIndex = 0;
        }
    }

    function handleDrag(event) {
        if (!isDragging) return; // Ne pas faire tourner si le clic n'est pas maintenu
        const deltaX = event.clientX - startX;

        if (Math.abs(deltaX) > 20) { // Change d'image après un déplacement suffisant
            if (deltaX > 0) {
                currentImageIndex = (currentImageIndex - 1 + document.querySelectorAll(`#${currentMode}-mode .maquette-image`).length) % document.querySelectorAll(`#${currentMode}-mode .maquette-image`).length;
            } else {
                currentImageIndex = (currentImageIndex + 1) % document.querySelectorAll(`#${currentMode}-mode .maquette-image`).length;
            }
            showImage(currentImageIndex);
            startX = event.clientX; // Réinitialise pour le prochain mouvement
        }
    }

    function showImage(index) {
        const images = document.querySelectorAll(`#${currentMode}-mode .maquette-image`);
        images.forEach((img, i) => {
            img.classList.toggle('active', i === index);
        });
    }

    const maquetteContainer = document.getElementById('maquette-orbitale');

    maquetteContainer.addEventListener('mousedown', (event) => {
        if (currentMode === 'building' || currentMode === 'rdc' || currentMode === 'rplus1') { // Active le défilement pour tous les modes
            isDragging = true;
            startX = event.clientX;
            maquetteContainer.style.cursor = 'grabbing'; // Change le curseur lors du drag
        }
    });

    document.addEventListener('mousemove', handleDrag);

    document.addEventListener('mouseup', () => {
        isDragging = false;
        maquetteContainer.style.cursor = 'grab'; // Réinitialise le curseur
    });

    maquetteContainer.addEventListener('mouseleave', () => {
        isDragging = false;
        maquetteContainer.style.cursor = 'grab'; // Réinitialise le curseur
    });

    // Gestion des boutons pour afficher les vues en coupe et revenir au mode "Bâtiment"
    document.getElementById('btnBatiment').addEventListener('click', () => {
        currentMode = 'building';
        showImages('building'); // Affiche les rendus du bâtiment
    });

    document.getElementById('btnRDC').addEventListener('click', () => {
        currentMode = 'rdc';
        showImages('rdc'); // Affiche les rendus du RDC
    });

    document.getElementById('btnRplus1').addEventListener('click', () => {
        currentMode = 'rplus1';
        showImages('rplus1'); // Affiche les rendus du R+1
    });
</script>

</body>
</html>
